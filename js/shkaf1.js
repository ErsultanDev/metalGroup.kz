const data = [ // _____________________________________Металлические шкафы для одежды____________________________________________
    {
        link: "shrm11.html",
        title: "Металлический шкаф для одежды ШРМ – 11",
        desc: "Шкаф металлический, разборной, односекционный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/11.png',
        price: 14183,
        code: "7004",
        sections: '1',
        lock: 'vrezKey', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color2', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

    {
        link: "shrm22.html",
        title: "Металлический шкаф для одежды ШРМ - 22",
        desc: "Шкаф металлический, разборной, двухсекционный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/7.JPG',
        price: 29190,
        code: "7008",
        sections: '2',
        lock: 'vrezKey', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color2', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrm22m.html",
        title: "Металлический шкаф для одежды ШРМ - 22 М",
        desc: "Шкаф металлический, разборной, двухсекционный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/20.JPG',
        price: 20644,
        code: "7016",
        sections: '2',
        lock: 'vrezKey', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color2', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrm33.html",
        title: "Металлический шкаф для одежды ШРМ – 33",
        desc: "Шкаф металлический, разборной, трехсекционный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/3.JPG',
        price: 32946,
        code: "7018",
        sections: '3',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color2', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrmm.html",
        title: "Металлический шкаф для одежды ШРМ - М",
        desc: "Шкаф металлический, модульный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/30.JPG',
        price: 10339,
        code: "7019",
        sections: 'module',
        lock: 'meh', // Замок
        coating: 'proshok', // Покрытие
        color: 'color3', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

    {
        link: "shrm21.html",
        title: "Металлический шкаф для одежды ШРМ – 21",
        desc: "Шкаф металлический, односекционный, предназначен для хранения сменной одежды. Внутри поделен перегородкой на два отделения для чистой и грязной одежды. В каждом отделении находятся полка для перекладина и вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/21.png',
        price: 18028,
        code: "7007",
        sections: '1',
        lock: 'meh', // Замок
        coating: 'proshok', // Покрытие
        color: 'color2', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },


    {
        link: "shrm12.html",
        title: "Металлический шкаф для одежды ШРМ – 12",
        desc: "Шкаф металлический, разборной, односекционный, с 2-мя отделениями, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/5.JPG',
        price: 11620,
        code: "7012",
        sections: '1',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color3', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

    {
        link: "shrm24.html",
        title: "Металлический шкаф для одежды ШРМ - 24",
        desc: "Шкаф металлический разборной двухсекционный, с 4-мя отделениями. Предназначен для хранения сменной одежды в раздевальных комнатах спортивных залов, бассейнов, школ и т.д. Каждое отделение шкафа оснащено индивидуальным врезным замком и перекладиной для вешалки. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/24.png',
        price: 25053,
        code: "7013",
        sections: '2',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color3', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrmak.html",
        title: "Металлический шкаф для одежды ШРМ – АК",
        desc: "Шкаф металлический, разборной, двухсекционный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/ak.png',
        price: 24087,
        code: "7011",
        sections: '2',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color3', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrm22u.html",
        title: "Металлический шкаф для одежды ШРМ - 22 У",
        desc: "Шкаф металлический, разборной, двухсекционный, предназначен для хранения сменной одежды и секция из 3 полок для хозяйственного инвентаря. В каждом отделении находятся полка для головных уборов. Каждая секция закрывается дверью с замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/u.png',
        price: 23035,
        code: "7009",
        sections: '2',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color3', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrm16.html",
        title: "Металлический шкаф для одежды ШРМ – АК - У",
        desc: "Шкаф металлический, разборной, односекционный, предназначен для хранения сменной одежды и инвентаря. В стандартную комплектацию каждого шкафа входят три полки, перекладина для вешалки и крючки для одежды. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).			",
        img: '/images/fulls/shkaf_odejda/sh16.jpg',
        price: 26879,
        code: "7003",
        sections: '1',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color3', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "shrm15.html",
        title: "Металлический шкаф для одежды ШРМ – 11Р",
        desc: "Шкаф металлический, разборной, двухсекционный, предназначен для хранения сменной одежды. В каждом отделении находятся полка для головных уборов и перекладина для вешалки. Отделение шкафа оснащено индивидуальным врезным замком. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_odejda/sh15.jpg',
        price: 26879,
        code: "7010",
        sections: '2',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color2', // Цвет Корпуса
        construct: 'razbor' // Тип корпуса
    },

    {
        link: "polkadlyashkafy.html",
        title: "ПОЛКА ДЛЯ ШКАФА ШРМ",
        desc: "К МЕТАЛЛИЧЕСКИМ ШКАФАМ СЕРИИ ШРМ ШИРИНОЙ 500 ММ: <br> Размеры дополнительной полки: 20х195х450 мм, вес - 0,7 кг. К МЕТАЛЛИЧЕСКИМ ШКАФАМ СЕРИИ ШРМ ШИРИНОЙ 600 ММ: <br> Размеры дополнительной полки: 20х295x450 мм, вес - 0,7 кг.",
        img: '/images/fulls/shkaf_odejda/10.JPG',
        price: 463,
        code: "7020",
        sections: 'module',
        sections: '3',
        lock: 'vrezKey', // Замок
        coating: 'poroshokVl', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

    {
        link: "shkaf odejda.html",
        title: "Металлический шкаф TSN 710-15440",
        desc: "Цельнометаллическая отдельно стоящая конструкция. Высококачественная сталь толщиной 1 мм. У каждой секций держатель для личной карточки. У каждой секций 1 шт. перекладина с 5-ю пластиковыми крючками для одежды.  У каждой секций врезной замок повышенной секретности. Полимерно-порошковое влагостойкое покрытие, устойчивое к царапинам. Возможность окраски в любые цвета по требованию клиента.",
        img: '/images/fulls/shkaf_odejda/40.jpg',
        price: 28015,
        code: "7001",
        sections: '3',
        lock: 'vrezKey', // Замок
        coating: 'poroshokVl', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

    {
        link: "shkaf odejda2.html",
        title: "Металлический шкаф TSN 710-15310",
        desc: "Шкаф металлический 1-секционный. В стандартную комплектацию каждой секции входят 1 съемная полка, 1 перекладина для вешалок и 5 пластиковых крючков для одежды. Шкаф оснащен врезным замком. Высококачественное порошковое покрытие.",
        img: '/images/fulls/shkaf_odejda/50.jpg',
        price: 16058,
        code: "7002",
        sections: '1',
        lock: 'vrezKey', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },


    {
        link: "teksan_15110.html",
        title: "Шкаф для одежды для школьников",
        desc: "Шкаф металлический 1-секционный. В стандартную комплектацию каждой секции входят 1 съемная полка, 1 перекладина для вешалок и 5 пластиковых крючков для одежды. Шкаф оснащен встроенным замком и ригельным запиранием. Высококачественное порошковое покрытие. ",
        img: '/images/fulls/shkaf_odejda/25.jpg',
        price: 16790,
        code: "7005",
        sections: '1',
        lock: 'vrezKey', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },


    {
        link: "teksan_15441.html",
        title: "Металлический шкаф для одежды TSN 710-15441",
        desc: "Цельнометаллическая отдельно стоящая конструкция. Высококачественная сталь толщиной 1 мм. У каждой секций держатель  для личной карточки. У каждой секций 1 шт. перекладина с 5-ю пластиковыми крючками для одежды. У каждой секций врезной замок повышенной  секретности на 10000 комбинаций. Полимерно- порошковое влагостойкое покрытие, устойчивое к царапинам. Возможность  окраски в любые цвета по требованию клиента. ",
        img: '/images/fulls/shkaf_odejda/29.jpg',
        price: 83818,
        code: "7014",
        sections: '3',
        lock: 'meh', // Замок
        coating: 'poroshokVl', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },


    {
        link: "teksan_15215.html",
        title: "Металлический шкаф для одежды TSN 710-15215",
        desc: "Шкаф металлический 2-секционный. В стандартную комплектацию каждой секции входят 4 съемных полок, 2 перекладины для вешалок и 10 пластиковых крючков для одежды. Шкаф оснащен встроенным замком и ригельным запиранием. Высококачественное порошковое покрытие.  ",
        img: '/images/fulls/shkaf_odejda/26.jpg',
        price: 18590,
        code: "7006",
        sections: '2',
        lock: 'vrezKey', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

    {
        link: "teksan_15320.html",
        title: "Металлический шкаф для одежды TSN 710-15320",
        desc: "Шкаф металлический 2-секционный. В стандартную комплектацию каждой секции входят 2 съемные полки, 2 перекладины для вешалок и 10 пластиковых крючков для одежды. Шкаф оснащен встроенным замком. Высококачественное порошковое покрытие. ",
        img: '/images/fulls/shkaf_odejda/27.jpg',
        price: 64750,
        code: "7015",
        sections: '2',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },


    {
        link: "teksan_15340.html",
        title: "Металлический шкаф для одежды TSN 710-15340",
        desc: "Шкаф металлический 4-секционный. В стандартную комплектацию каждой секции входят 4 перекладины для вешалок и 20 пластиковых крючков для одежды. Шкаф оснащен встроенным замком. Высококачественное порошковое покрытие. ",
        img: '/images/fulls/shkaf_odejda/28.jpg',
        price: 45890,
        code: "7017",
        sections: '4',
        lock: 'meh', // Замок
        coating: 'poroshok', // Покрытие
        color: 'color1', // Цвет Корпуса
        construct: 'celno' // Тип корпуса
    },

]

const labels = document.getElementById('shkaf1Js');
const monoblocksBlock = document.getElementById('shkaf1Block');
const priceSort = document.getElementById("priceSort");

let priceSortedArray = data.sort(function (a, b) {
  let x = a.price;
  let y = b.price;

  return x - y;
});
let initialArray = priceSortedArray;

let initStage = true;
let priceOptionFirst = document.querySelector(".priceOptionFirst");
let priceOptionSecond = document.querySelector(".priceOptionSecond");

priceOptionFirst.addEventListener("click", function () {
  priceSortedArray = data.sort(function (a, b) {
    let x = a.price;
    let y = b.price;

    return x - y;
  });
  initialArray = priceSortedArray;
  filterArray();
});
priceOptionSecond.addEventListener("click", function () {

  priceSortedArray = data.sort(function (a, b) {
    let x = a.price;
    let y = b.price;

    return y - x;
  });
  initialArray = priceSortedArray;
  filterArray();
});


let myTabOne = document.querySelector('.myTabOne');
let myTabTwo = document.querySelector('.myTabTwo');


myTabOne.addEventListener('click', function() {
    monoblocksBlock.classList.remove('cardProductBlock');
    labels.classList.remove('cardProduct');
});

myTabTwo.addEventListener('click', function() {
    monoblocksBlock.classList.add('cardProductBlock');
    labels.classList.add('cardProduct');
});


function displayBlock(array) {
    monoblocksBlock.innerHTML = "";
    let video = document.createElement('div');
    // <p>Звоните прямо сейчас: <br><a href="tel:87015112200">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
    video.innerHTML = `
            <p>Звоните прямо сейчас: <br><a href="tel:87015112200">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
           `;

    array.map((a) => {
        let item = document.createElement('div');
        item.classList.add("mainCard");

        var formatter = function(priceSum) {
            let mn = 0;
            let price = priceSum.toString()
            for (let ij = price.length; ij > 0; ij--) {
                if (mn % 3 == 0) {
                    price = [price.slice(0, ij), " ", price.slice(ij)].join('');
                }
                mn++;
            }
            return price;
        }
        item.innerHTML = `
             <div class="cardProductItem">
        <a href="${a.link}">
        <span class="cardProductItem_code">Код товара: ${a.code}</span>
            <div class="cardProductItem_img">
                <img src="${a.img}">
            </div>
            <div class="cardProductItem_content">
                <h3>${a.title} </h3>
              
                <div class="cardProductItem_info">
                    <div class="cardProductItem_info_sub">
                        <div>
                            <img src="/images/productInfo1.png" alt="">
                        </div>
                        <div>
                            <p>Есть в наличии</p>
                        </div>
                    </div>
                    <div class="cardProductItem_info_sub">
                    <div>
                        <img src="/images/productInfo2.png" alt="">
                    </div>
                    <div class="cardProductItem_info_sub_text">
                        <p>Доставка </p>
                        <p><p class="span_free"> - БЕСПЛАТНО</p></p>
                    </div>
                </div>
                    <div class="cardProductItem_info_sub">
                        <div>
                            <img src="/images/productInfo3.png" alt="">
                        </div>
                        <div class="cardProductItem_info_sub_text">
                            <p>Установка</p>
                            <p><p class="span_free"> - БЕСПЛАТНО</p></p>
                        </div>
                    </div>
                </div>
                <div class="cardProductItem_price_btn">
                <span class="cardProductItem_price"> от ${formatter(a.price)}  тг</span>
                </div>
             
            </div>
        </a>
    </div>
           
            `;
        monoblocksBlock.appendChild(item);

    })

}

function displayList(array) {
    labels.innerHTML = "";
    let video = document.createElement('div');
    // 
    video.innerHTML = `
    <p>Звоните прямо сейчас: <br><a href="tel:87273449900">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
        `;

    array.map((a) => {
        let item = document.createElement('div');
        item.classList.add("main");
        var formatter = function(priceSum) {
            let mn = 0;
            let price = priceSum.toString()
            for (let ij = price.length; ij > 0; ij--) {
                if (mn % 3 == 0) {
                    // price.splice(ij, 0, " ")
                    price = [price.slice(0, ij), " ", price.slice(ij)].join('');
                }
                mn++;
            }
            return price;
        }

        item.innerHTML = `
    <li>
    <div id="ggg">
    <div class="firstly">
    <a  href="${a.link}"> 
    <img class="boximagee" src="${a.img}"
               style="float:left">
   </div>
   <br>
   <div class="secondly">
       <h2>${a.title}</h2>
       <hr><span style="color:#CCCCCC; font-size:14px">Код товара: ${a.code}</span><br>
       <p>${a.desc}</p>
       <p><span class="item-price-indicator_second">Цена: от ${formatter(a.price)} тг </span></p>
       </div>
       </a>
       <div class="thirdly">
       <a class="but btn-zayavka" href="${a.link}">Перейти</a>
   </div>
     </div>
    </div>
    </li><br>
    
`;
        labels.appendChild(item);

    })
}

function showInitialStage() {
    displayBlock(initialArray);
    displayList(initialArray);
    let params = countParam(initialArray);
    showParamCounters(params)
}


showInitialStage();

let filterParam = {
    lock: [],
    coating: [],
    construct: [],
    sections: [],
    color: []
}



function filterArray() {
    let updatedArray = initialArray

        .filter(function(a) {
            if (filterParam.color.length !== 0) {
                for (let i = 0; i < filterParam.color.length; i++) {
                    if (a.color === filterParam.color[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })
        .filter(function(a) {
            if (filterParam.sections.length !== 0) {
                for (let i = 0; i < filterParam.sections.length; i++) {
                    if (a.sections === filterParam.sections[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })
        .filter(function(a) {
            if (filterParam.lock.length !== 0) {
                for (let i = 0; i < filterParam.lock.length; i++) {
                    if (a.lock === filterParam.lock[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })
        .filter(function(a) {
            if (filterParam.coating.length !== 0) {
                for (let i = 0; i < filterParam.coating.length; i++) {
                    if (a.coating === filterParam.coating[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })
        .filter(function(a) {
            if (filterParam.construct.length !== 0) {
                for (let i = 0; i < filterParam.construct.length; i++) {
                    if (a.construct === filterParam.construct[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })

    let params = countParam(updatedArray);
    showParamCounters(params)


    if (updatedArray.length !== 0) {
        displayBlock(updatedArray)
        displayList(updatedArray)
        addFilterOption(filterOptionArray)
    } else {
        clickArr[clickArr.length - 1].checked = false;
        clickArr.pop()
        filterOptionArray.pop()
        errorMsg()

        updateFilterParam()
    }
}

let clickArr = []
let filterOptionArray = []
let btnArray = []

// const redBtn = document.getElementById('redBtn');
// const blueBtn = document.getElementById('blueBtn');
// const yellowBtn = document.getElementById('yellowBtn');
// const greenBtn = document.getElementById('greenBtn');
// const blackBtn = document.getElementById('blackBtn');
// const whiteBtn = document.getElementById('whiteBtn');

const oneSection = document.getElementById('oneSection');
const secondSection = document.getElementById('secondSection');
const thirdSection = document.getElementById('thirdSection');
const fourthSection = document.getElementById('fourthSection');
const fiveSection = document.getElementById('fiveSection');

const pokr1 = document.getElementById('pokr1');
const pokr2 = document.getElementById('pokr2');

const color1 = document.getElementById('color1');
const color2 = document.getElementById('color2');
const color3 = document.getElementById('color3');

const key1 = document.getElementById('key1');
const key2 = document.getElementById('key2');

const korp1 = document.getElementById('korp1');
const korp2 = document.getElementById('korp2');


function updateFilterParam() {
    filterParam.color = [];
    if (color1.checked === true) {
        filterParam.color.push('color1');
    }
    if (color2.checked === true) {
        filterParam.color.push('color2');
    }
    if (color3.checked === true) {
        filterParam.color.push('color3');
    }



    filterParam.lock = [];
    if (key1.checked === true) {
        filterParam.lock.push('vrezKey');
    }
    if (key2.checked === true) {
        filterParam.lock.push('meh');
    }


    filterParam.coating = [];
    if (pokr1.checked === true) {
        filterParam.coating.push('poroshok');
    }
    if (pokr2.checked === true) {
        filterParam.coating.push('poroshokVl');
    }


    filterParam.construct = [];
    if (korp1.checked === true) {
        filterParam.construct.push('celno');
    }
    if (korp2.checked === true) {
        filterParam.construct.push('razbor');
    }




    filterParam.sections = [];
    if (oneSection.checked === true) {
        filterParam.sections.push('1');
    }

    if (secondSection.checked === true) {
        filterParam.sections.push('2');
    }

    if (thirdSection.checked === true) {
        filterParam.sections.push('3');
    }

    if (fourthSection.checked === true) {
        filterParam.sections.push('4');
    }

    if (fiveSection.checked === true) {
        filterParam.sections.push('module');
    }



    filterArray()
}

function spliceMethod(value) {
    const idx = clickArr.indexOf(value);
    if (idx > -1) {
        clickArr.splice(idx, 1);
    }
}

function spliceMethodSecond(value) {
    const idx = filterOptionArray.indexOf(value);
    if (idx > -1) {
        filterOptionArray.splice(idx, 1);
    }
}




function oneSectionBtnClick() {
    if (oneSection.checked == true) {
        filterOptionArray.push('1-секционный')
        clickArr.push(oneSection)
        arrCounter = true;
    } else {
        spliceMethod(oneSection);
        spliceMethodSecond('1-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}

function secondSectionBtnClick() {
    if (secondSection.checked == true) {
        filterOptionArray.push('2-секционный')
        clickArr.push(secondSection)
        arrCounter = true;
    } else {
        spliceMethod(secondSection);
        spliceMethodSecond('2-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}

function thirdSectionBtnClick() {
    if (thirdSection.checked == true) {
        filterOptionArray.push('3-секционный')
        clickArr.push(thirdSection)
        arrCounter = true;
    } else {
        spliceMethod(thirdSection);
        spliceMethodSecond('3-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}


function fourthSectionBtnClick() {
    if (fourthSection.checked == true) {
        filterOptionArray.push('4-секционный')
        clickArr.push(fourthSection)
        arrCounter = true;
    } else {
        spliceMethod(fourthSection);
        spliceMethodSecond('4-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}



function fiveSectionBtnClick() {
    if (fiveSection.checked == true) {
        filterOptionArray.push('Модульный')
        clickArr.push(fiveSection)
        arrCounter = true;
    } else {
        spliceMethod(fiveSection);
        spliceMethodSecond('Модульный')
        arrCounter = false;
    }
    updateFilterParam()
}




function pokr1BtnClick() {
    if (pokr1.checked == true) {
        filterOptionArray.push('Полимерное - порошковое серого цвета:')
        clickArr.push(pokr1)
        arrCounter = true;
    } else {
        spliceMethod(pokr1);
        spliceMethodSecond('Полимерное - порошковое серого цвета:')
        arrCounter = false;
    }
    updateFilterParam()
}



function pokr2BtnClick() {
    if (pokr2.checked == true) {
        filterOptionArray.push('Полимерно - порошковое влагостойкое покрытие:')
        clickArr.push(pokr2)
        arrCounter = true;
    } else {
        spliceMethod(pokr2);
        spliceMethodSecond('Полимерно - порошковое влагостойкое покрытие:')
        arrCounter = false;
    }
    updateFilterParam()
}


function color1BtnClick() {
    if (color1.checked == true) {
        filterOptionArray.push('Окраска дверей в другие цвета из палитры:')
        clickArr.push(color1)
        arrCounter = color1;
    } else {
        spliceMethod(color1);
        spliceMethodSecond('Окраска дверей в другие цвета из палитры:')
        arrCounter = false;
    }
    updateFilterParam()
}


function color2BtnClick() {
    if (color2.checked == true) {
        filterOptionArray.push('Серый:')
        clickArr.push(color2)
        arrCounter = color2;
    } else {
        spliceMethod(color2);
        spliceMethodSecond('Серый:')
        arrCounter = false;
    }
    updateFilterParam()
}

function color3BtnClick() {
    if (color3.checked == true) {
        filterOptionArray.push('Светло-серый:')
        clickArr.push(color3)
        arrCounter = color3;
    } else {
        spliceMethod(color3);
        spliceMethodSecond('Светло-серый:')
        arrCounter = false;
    }
    updateFilterParam()
}



function key1BtnClick() {
    if (key1.checked == true) {
        filterOptionArray.push('Врезной замок:')
        clickArr.push(key1)
        arrCounter = key1;
    } else {
        spliceMethod(key1);
        spliceMethodSecond('Врезной замок:')
        arrCounter = false;
    }
    updateFilterParam()
}


function key2BtnClick() {
    if (key2.checked == true) {
        filterOptionArray.push('Механический замок:')
        clickArr.push(key2)
        arrCounter = key2;
    } else {
        spliceMethod(key2);
        spliceMethodSecond('Механический замок:')
        arrCounter = false;
    }
    updateFilterParam()
}



function korp1BtnClick() {
    if (korp1.checked == true) {
        filterOptionArray.push('Цельнометаллическая конструкция:')
        clickArr.push(korp1)
        arrCounter = korp1;
    } else {
        spliceMethod(korp1);
        spliceMethodSecond('Цельнометаллическая конструкция:')
        arrCounter = false;
    }
    updateFilterParam()
}

function korp2BtnClick() {
    if (korp2.checked == true) {
        filterOptionArray.push('Сборно-разборный:')
        clickArr.push(korp2)
        arrCounter = korp2;
    } else {
        spliceMethod(korp2);
        spliceMethodSecond('Сборно-разборный:')
        arrCounter = false;
    }
    updateFilterParam()
}


oneSection.addEventListener('click', oneSectionBtnClick)
secondSection.addEventListener('click', secondSectionBtnClick)
thirdSection.addEventListener('click', thirdSectionBtnClick)
fourthSection.addEventListener('click', fourthSectionBtnClick)
fiveSection.addEventListener('click', fiveSectionBtnClick)

pokr1.addEventListener('click', pokr1BtnClick)
pokr2.addEventListener('click', pokr2BtnClick)

color1.addEventListener('click', color1BtnClick)
color2.addEventListener('click', color2BtnClick)
color3.addEventListener('click', color3BtnClick)

key1.addEventListener('click', key1BtnClick)
key2.addEventListener('click', key2BtnClick)

korp1.addEventListener('click', korp1BtnClick)
korp2.addEventListener('click', korp2BtnClick)



// let checkBoxArr = []
//     // settings関数で初期設定 全体に適応させたい場合
// iziToast.settings({
//     timeout: 3000, // default timeout
//     resetOnHover: true,
//     // icon: '', // icon class
//     transitionIn: 'flipInX',
//     transitionOut: 'flipOutX',
//     position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center
//     onOpen: function() {
//         // console.log('callback abriu!');
//     },
//     onClose: function() {
//         // console.log("callback fechou!");
//     }
// });


// error
function errorMsg() {
    iziToast.warning({ title: '', message: 'По таким параметрам продуктов не найдено' });
}


const filter = document.getElementById("filter");
let arrCounter = true;

function addFilterOption(arr) {
    let index = 0;
    filter.innerHTML = "";
    arr.map(a => {
        let filterOption = document.createElement('div');
        filterOption.setAttribute("data-id", index)
        filterOption.id = "filterOption"
        filterOption.classList.add('filter-option')
        if (arrCounter == true) {
            filterOption.classList.add('filter-animation')
        }
        if (index > 0) {
            document.querySelector(`[data-id="${index - 1}"]`).classList.remove('filter-animation');
        }
        filterOption.innerHTML = `
    <span class="filter-option-value" data-id="${index}">${a} 
        <svg xmlns="https://www.w3.org/2000/svg" style="
        pointer-events: none;
        margin-left: 8.5px;" data-id="${index} width="10px" height="10px" viewBox="0 0 7 7" id="filterOptionSvg" fill="none">
            <path data-id="${index} id="filterOptionPath" fill-rule="evenodd" clip-rule="evenodd" d="M4.00199 4.7091L6.64844 7.35554L7.35554 6.64844L4.7091 4.00199L7.35554 1.35554L6.64844 0.648438L4.00199 3.29488L1.35554 0.648438L0.648438 1.35554L3.29488 4.00199L0.648438 6.64844L1.35554 7.35554L4.00199 4.7091Z" fill="#C4C4C4"></path>
        </svg>
    </span>
    `;
        filter.appendChild(filterOption);
        index++;
    })
}

let filterOption = document.querySelector(".filter-option");

document.addEventListener(
    "click",
    function(e) {
        e = e || window.event;
        let target = e.srcElement;
        if (
            target.id === "filterOption" ||
            target.parentNode.id === "filterOption"
        ) {
            arrCounter = false;
            let selectedId = parseInt(target.getAttribute('data-id'), 10);
            removeFilterElement(selectedId)

        }
    },
    false
);


function removeFilterElement(value) {
    filterOptionArray.splice(value, 1);
    clickArr[value].checked = false;
    clickArr.splice(value, 1)
    updateFilterParam();
}

function countParam(array) {
    let color1 = 0;
    let color2 = 0;
    let color3 = 0;

    let coating1 = 0;
    let coating2 = 0;

    let lock1 = 0;
    let lock2 = 0;

    let construct1 = 0;
    let construct2 = 0;


    let sections1 = 0;
    let sections2 = 0;
    let sections3 = 0;
    let sections4 = 0;
    let sections5 = 0;


    for (let index = 0; index < array.length; index++) {

        if (array[index].color == "color1") {
            color1++;
        } else if (array[index].color == "color2") {
            color2++;
        } else if (array[index].color == "color3") {
            color3++;
        }

        if (array[index].coating == "poroshok") {
            coating1++;
        } else if (array[index].coating == "poroshokVl") {
            coating2++;
        }

        if (array[index].lock == "vrezKey") {
            lock1++;
        } else if (array[index].lock == "meh") {
            lock2++;
        }

        if (array[index].construct == "celno") {
            construct1++;
        } else if (array[index].construct == "razbor") {
            construct2++;
        }


        if (array[index].sections == '1') {
            sections1++;
        } else if (array[index].sections == '2') {
            sections2++;
        } else if (array[index].sections == '3') {
            sections3++;
        } else if (array[index].sections == '4') {
            sections4++;
        } else if (array[index].sections == 'module') {
            sections5++;
        }
        // if (array[index].winding == true) {
        //     winding1++;
        // } else if (array[index].winding == false) {
        //     winding2++;
        // }
    }

    return [sections1, sections2, sections3, sections4, sections5, coating1, coating2, color1, color2, color3, lock1, lock2, construct1, construct2]

}

function showParamCounters(array) {
    for (let index = 0; index < array.length; index++) {
        document.getElementById(`${index+1}param`).innerHTML = array[index]
    }
}

// var filename = window.location.href.split('/').pop().split('#')[0].split('?')[0];
// console.log(filename);