const data = [
    // _____________________________________Металлические шкафы для сумок (сумочницы)    ____________________________________________
    {
        link: "shkafsection.html",
        title: "Металлический шкаф TSN 710-15325 ",
        desc: "Шкаф включает в себя две секции по 5 отделения с 10 ячейками. Каждая секция с самостоятельным ключом. Замок врезной. Высококачественное порошковое покрытие ",
        img: '/images/fulls/shkaf_sum/6.jpg',
        price: 122668,
        code: "1106",
        color: 'color1',
        odel: 'odel4',
        yachik: 'yachik4',
        sections: '3',
        lock: 'lock1'
    },

    {
        link: "shkafsection2.html",
        title: "Металлический шкаф TSN 710-15120",
        desc: "Шкаф включает в себя три секции по 3 отделения с 9 ячейками. Каждая секция с самостоятельным ключом. Замок врезной. Высококачественное порошковое покрытие",
        img: '/images/fulls/shkaf_sum/12.jpg',
        price: 108199,
        code: "1111",
        color: 'color1',
        odel: 'odel2',
        yachik: 'yachik3',
        sections: '3'
    },

    {
        link: "shkafsection5.html",
        title: "Металлический шкаф TSN 710-15118",
        desc: "Шкаф включает в себя две секции по 3 отделения с 6 ячейками. Каждая секция с самостоятельным ключом. Замок врезной. Высококачественное порошковое покрытие ",
        img: '/images/fulls/shkaf_sum/15.jpg',
        price: 89999,
        code: "1111",
        color: 'color1',
        odel: 'odel2',
        yachik: 'yachik2',
        sections: '2'
    },

    {
        link: "shkafsection3.html",
        title: "Металлический шкаф TSN 710-15180 ",
        desc: "Шкаф металлический 6-ю ячейками. Каждая секция с самостоятельным ключом и полкой. Замок врезной. Высококачественное порошковое покрытие.",
        img: '/images/fulls/shkaf_sum/13.jpg',
        price: 113978,
        code: "1112",
        color: 'color1',
        odel: 'odel2',
        yachik: 'yachik2',
        sections: '2'
    },

    {
        link: "shkafsection4.html",
        title: "Металлический шкаф TSN 710-15335",
        desc: "Шкаф включает в себя 3 отделения. Каждая секция с самостоятельным ключом и полкой. Замок врезной. Высококачественное порошковое покрытие. Есть возможность покраски в любые цвета по желанию клиента.",
        img: '/images/fulls/shkaf_sum/14.jpg',
        price: 62335,
        code: "1111",
        color: '1',
        lock: 'lock2',
        odel: 'odel2',
    },

    {
        link: "shrm14.html",
        title: "Металлический шкаф для сумок ШРМ–14",
        desc: "Металлический шкаф для сумок разборный односекционный с четырьмя отделениями. Каждое отделение сумочницы снабжено дверью с индивидуальным врезным замком. Металлический шкаф ШРМ - 14 предназначен для хранения сумок, пакетов в супермаркетах, а также личных вещей в раздевальных комнатах спортивных клубов, бассейнов и фитнес-центров. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_sum/14.png',
        price: 19536,
        code: "1101",
        sections: '1',
        color: 'color2',
        lock: 'lock1',
    },

    {
        link: "shrm28.html",
        title: "Металлический шкаф для сумок ШРМ–28",
        desc: "Шкаф состоит из двух боковых секций модульного ряда. Шкаф имеет восемь отделений. Каждое отделение снабжено индивидуальным врезным замком. Шкаф предназначен для хранения сумок, пакетов в супермаркетах, а также личных вещей в спортклубах и фитнес-центрах. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_sum/28.png',
        price: 35662,
        code: "1102",
        color: 'color2',
        sections: '2',
        lock: 'lock1'
    },


    {
        link: "shrm312.html",
        title: "Металлический шкаф для сумок (сумочница) ШРМ - 312",
        desc: "Металлический шкаф для сумок разборный с 12 отделениями. Каждое отделение сумочницы снабжено дверью с индивидуальным врезным замком. Металлический шкаф ШРМ - 312 предназначен для хранения сумок, пакетов в супермаркетах, а также личных вещей в раздевальных комнатах спортивных клубов, бассейнов и фитнес-центров. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_sum/312.png',
        price: 52115,
        code: "1103",
        lock: 'lock1',
        odel: 'odel1',
        yachik: '12'
    },


    {
        link: "shrm14m.html",
        title: "Металлический шкаф для сумок ШРМ–14 М",
        desc: "Металлический шкаф для сумок разборный односекционный с четырьмя отделениями. Каждое отделение сумочницы снабжено дверью с индивидуальным врезным замком. Металлический шкаф ШРМ – 14 М предназначен для хранения сумок, пакетов в супермаркетах, а также личных вещей в раздевальных комнатах спортивных клубов, бассейнов и фитнес-центров. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_sum/4.jpg',
        price: 16717,
        code: "1104",
        color: 'color2',
        sections: '1',
        lock: 'lock1'
    },

    {
        link: "shrm28m.html",
        title: "Металлический шкаф для сумок ШРМ–28 М",
        desc: "Шкаф состоит из двух боковых секций модульного ряда. Каждое отделение снабжено индивидуальным врезным замком. Шкаф предназначен для хранения сумок, пакетов в супермаркетах, а также личных вещей в спортклубах и фитнес-центрах. Покрытие -  полимерное порошковое серого цвета (RAL 7035).",
        img: '/images/fulls/shkaf_sum/5.jpg',
        price: 19536,
        code: "1105",
        sections: '2',
        color: 'color2'
    },


    {
        link: "electron4.html",
        title: "Металлический шкаф для мобильных телефонов 40 ячеек",
        desc: "Шкаф включает в себя 4 секции по 10 отделения с 40 ячейками. Каждая секция с самостоятельным электронным замком. Высококачественное порошковое покрытие ",
        img: '/images/fulls/shkaf_sum/10.jpg',
        price: 222984,
        code: "1110",
        color: 'color1',
        odel: 'odel6',
        yachik: 'yachik8',
        sections: '4',
        lock: 'lock2'
    },

    {
        link: "electron1.html",
        title: "Металлический шкаф с электронным замком 18 ячеек",
        desc: "Шкаф включает в себя 3 секции по 6 отделения с 18 ячейками. Каждая секция с самостоятельным электронным замком. Высококачественное порошковое покрытие ",
        img: '/images/fulls/shkaf_sum/88888.jpg',
        price: 142586,
        code: "1107",
        color: 'color1',
        odel: 'odel5',
        yachik: 'yachik5',
        sections: '3',
        lock: 'lock2'
    },


    {
        link: "electron2.html",
        title: "Металлический шкаф с электронным замком 24 ячеек",
        desc: "Шкаф включает в себя 4 секции по 6 отделения с 24 ячейками. Каждая секция с самостоятельным электронным замком. Высококачественное порошковое покрытие ",
        img: '/images/fulls/shkaf_sum/99.jpg',
        price: 160384,
        code: "1108",
        color: 'color1',
        odel: 'odel5',
        yachik: 'yachik6',
        sections: '4',
        lock: 'lock2'
    },


    {
        link: "electron3.html",
        title: "Металлический шкаф с электронным замком 36 ячеек",
        desc: "Шкаф включает в себя 6 секции по 6 отделения с 36 ячейками. Каждая секция с самостоятельным электронным замком. Высококачественное порошковое покрытие ",
        img: '/images/fulls/shkaf_sum/7.jpg',
        price: 211368,
        code: "1109",
        color: 'color1',
        odel: 'odel5',
        yachik: 'yachik7',
        sections: '6',
        lock: 'lock2'
    },


]

const labels = document.getElementById('shkaf6Js');

const monoblocksBlock = document.getElementById('shkaf6Block');
const priceSort = document.getElementById("priceSort");

let priceSortedArray = data.sort(function (a, b) {
  let x = a.price;
  let y = b.price;

  return x - y;
});
let initialArray = priceSortedArray;

let initStage = true;
let priceOptionFirst = document.querySelector(".priceOptionFirst");
let priceOptionSecond = document.querySelector(".priceOptionSecond");

priceOptionFirst.addEventListener("click", function () {
  priceSortedArray = data.sort(function (a, b) {
    let x = a.price;
    let y = b.price;

    return x - y;
  });
  initialArray = priceSortedArray;
  filterArray();
});
priceOptionSecond.addEventListener("click", function () {

  priceSortedArray = data.sort(function (a, b) {
    let x = a.price;
    let y = b.price;

    return y - x;
  });
  initialArray = priceSortedArray;
  filterArray();
});


let myTabOne = document.querySelector('.myTabOne');
let myTabTwo = document.querySelector('.myTabTwo');


myTabOne.addEventListener('click', function() {
    monoblocksBlock.classList.remove('cardProductBlock');
    labels.classList.remove('cardProduct');
});

myTabTwo.addEventListener('click', function() {
    monoblocksBlock.classList.add('cardProductBlock');
    labels.classList.add('cardProduct');
});


function displayBlock(array) {
    monoblocksBlock.innerHTML = "";
    let video = document.createElement('div');
    // <p>Звоните прямо сейчас: <br><a href="tel:87015112200">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
    video.innerHTML = `
            <p>Звоните прямо сейчас: <br><a href="tel:87015112200">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
           `;

    array.map((a) => {
        let item = document.createElement('div');
        item.classList.add("mainCard");

        var formatter = function(priceSum) {
            let mn = 0;
            let price = priceSum.toString()
            for (let ij = price.length; ij > 0; ij--) {
                if (mn % 3 == 0) {
                    price = [price.slice(0, ij), " ", price.slice(ij)].join('');
                }
                mn++;
            }
            return price;
        }
        item.innerHTML = `
             <div class="cardProductItem">
        <a href="${a.link}">
        <span class="cardProductItem_code">Код товара: ${a.code}</span>
            <div class="cardProductItem_img">
                <img src="${a.img}">
            </div>
            <div class="cardProductItem_content">
                <h3>${a.title} </h3>
              
                <div class="cardProductItem_info">
                    <div class="cardProductItem_info_sub">
                        <div>
                            <img src="/images/productInfo1.png" alt="">
                        </div>
                        <div>
                            <p>Есть в наличии</p>
                        </div>
                    </div>
                    <div class="cardProductItem_info_sub">
                    <div>
                        <img src="/images/productInfo2.png" alt="">
                    </div>
                    <div class="cardProductItem_info_sub_text">
                        <p>Доставка </p>
                        <p><p class="span_free"> - БЕСПЛАТНО</p></p>
                    </div>
                </div>
                    <div class="cardProductItem_info_sub">
                        <div>
                            <img src="/images/productInfo3.png" alt="">
                        </div>
                        <div class="cardProductItem_info_sub_text">
                            <p>Установка</p>
                            <p><p class="span_free"> - БЕСПЛАТНО</p></p>
                        </div>
                    </div>
                </div>
                <div class="cardProductItem_price_btn">
                <span class="cardProductItem_price"> от ${formatter(a.price)}  тг</span>
                </div>
             
            </div>
        </a>
    </div>
           
            `;
        monoblocksBlock.appendChild(item);

    })

}

function displayList(array) {
    labels.innerHTML = "";
    let video = document.createElement('div');
    // 
    video.innerHTML = `
    <p>Звоните прямо сейчас: <br><a href="tel:87273449900">8(727)<span> 344-99-00</span></a>; <a href="tel:+77012667700"><b>+7 701 266-77-00</b></a></p>
        `;

    array.map((a) => {
        let item = document.createElement('div');
        item.classList.add("main");
        var formatter = function(priceSum) {
            let mn = 0;
            let price = priceSum.toString()
            for (let ij = price.length; ij > 0; ij--) {
                if (mn % 3 == 0) {
                    // price.splice(ij, 0, " ")
                    price = [price.slice(0, ij), " ", price.slice(ij)].join('');
                }
                mn++;
            }
            return price;
        }

        item.innerHTML = `
    <li>
    <div id="ggg">
    <div class="firstly">
    <a  href="${a.link}"> 
    <img class="boximagee" src="${a.img}"
               style="float:left">
   </div>
   <br>
   <div class="secondly">
       <h2>${a.title}</h2>
       <hr><span style="color:#CCCCCC; font-size:14px">Код товара: ${a.code}</span><br>
       <p>${a.desc}</p>
       <p><span class="item-price-indicator_second">Цена: от ${formatter(a.price)} тг </span></p>
       </div>
       </a>
       <div class="thirdly">
       <a class="but btn-zayavka" href="${a.link}">Перейти</a>
   </div>
     </div>
    </div>
    </li><br>
    
`;
        labels.appendChild(item);

    })
}

function showInitialStage() {
    displayBlock(initialArray);
    displayList(initialArray);
    let params = countParam(initialArray);
    showParamCounters(params)
}


showInitialStage();

let filterParam = {
    color: [],
    odel: [],
    yachik: [],
    lock: [],
    sections: []
}



function filterArray() {
    let updatedArray = initialArray
        .filter(function(a) {
            if (filterParam.color.length !== 0) {
                for (let i = 0; i < filterParam.color.length; i++) {
                    if (a.color === filterParam.color[i]) {
                        return a;
                    }
                }
            } else {
                return a;
            }
        })

    .filter(function(a) {
        if (filterParam.odel.length !== 0) {
            for (let i = 0; i < filterParam.odel.length; i++) {
                if (a.odel === filterParam.odel[i]) {
                    return a;
                }
            }
        } else {
            return a;
        }
    })


    .filter(function(a) {
        if (filterParam.yachik.length !== 0) {
            for (let i = 0; i < filterParam.yachik.length; i++) {
                if (a.yachik === filterParam.yachik[i]) {
                    return a;
                }
            }
        } else {
            return a;
        }
    })

    .filter(function(a) {
        if (filterParam.lock.length !== 0) {
            for (let i = 0; i < filterParam.lock.length; i++) {
                if (a.lock === filterParam.lock[i]) {
                    return a;
                }
            }
        } else {
            return a;
        }
    })

    .filter(function(a) {
        if (filterParam.sections.length !== 0) {
            for (let i = 0; i < filterParam.sections.length; i++) {
                if (a.sections === filterParam.sections[i]) {
                    return a;
                }
            }
        } else {
            return a;
        }
    })


    let params = countParam(updatedArray);
    showParamCounters(params)


    if (updatedArray.length !== 0) {
        displayBlock(updatedArray)
        displayList(updatedArray)
        addFilterOption(filterOptionArray)
    } else {
        clickArr[clickArr.length - 1].checked = false;
        clickArr.pop()
        filterOptionArray.pop()
        errorMsg()

        updateFilterParam()
    }
}

let clickArr = []
let filterOptionArray = []
let btnArray = []


const color1 = document.getElementById('color1');
const color2 = document.getElementById('color2');

const odel1 = document.getElementById('odel1');
const odel2 = document.getElementById('odel2');
const odel3 = document.getElementById('odel3');
const odel4 = document.getElementById('odel4');
const odel5 = document.getElementById('odel5');
const odel6 = document.getElementById('odel6');

const yachik1 = document.getElementById('yachik1');
const yachik2 = document.getElementById('yachik2');
const yachik3 = document.getElementById('yachik3');
const yachik4 = document.getElementById('yachik4');
const yachik5 = document.getElementById('yachik5');
const yachik6 = document.getElementById('yachik6');
const yachik7 = document.getElementById('yachik7');
const yachik8 = document.getElementById('yachik8');


const lock1 = document.getElementById('lock1');
const lock2 = document.getElementById('lock2');


const oneSection = document.getElementById('oneSection');
const secondSection = document.getElementById('secondSection');
const thirdSection = document.getElementById('thirdSection');
const fourthSection = document.getElementById('fourthSection');
const fiveSection = document.getElementById('fiveSection');

function updateFilterParam() {

    filterParam.color = [];
    if (color1.checked === true) {
        filterParam.color.push('color1');
    }
    if (color2.checked === true) {
        filterParam.color.push('color2');
    }

    filterParam.odel = [];
    if (odel1.checked === true) {
        filterParam.odel.push('odel1');
    }

    if (odel2.checked === true) {
        filterParam.odel.push('odel2');
    }


    if (odel3.checked === true) {
        filterParam.odel.push('odel3');
    }


    if (odel4.checked === true) {
        filterParam.odel.push('odel4');
    }


    if (odel5.checked === true) {
        filterParam.odel.push('odel5');
    }


    if (odel6.checked === true) {
        filterParam.odel.push('odel6');
    }

    filterParam.lock = [];
    if (lock1.checked === true) {
        filterParam.lock.push('lock1');
    }
    if (lock2.checked === true) {
        filterParam.lock.push('lock2');
    }

    filterParam.yachik = [];
    if (yachik1.checked === true) {
        filterParam.yachik.push('yachik1');
    }
    if (yachik2.checked === true) {
        filterParam.yachik.push('yachik2');
    }
    if (yachik3.checked === true) {
        filterParam.yachik.push('yachik3');
    }
    if (yachik4.checked === true) {
        filterParam.yachik.push('yachik4');
    }
    if (yachik5.checked === true) {
        filterParam.yachik.push('yachik5');
    }
    if (yachik6.checked === true) {
        filterParam.yachik.push('yachik6');
    }
    if (yachik7.checked === true) {
        filterParam.yachik.push('yachik7');
    }
    if (yachik8.checked === true) {
        filterParam.yachik.push('yachik8');
    }


    filterParam.sections = [];
    if (oneSection.checked === true) {
        filterParam.sections.push('1');
    }

    if (secondSection.checked === true) {
        filterParam.sections.push('2');
    }

    if (thirdSection.checked === true) {
        filterParam.sections.push('3');
    }

    if (fourthSection.checked === true) {
        filterParam.sections.push('4');
    }

    if (fiveSection.checked === true) {
        filterParam.sections.push('6');
    }

    filterArray()
}

function spliceMethod(value) {
    const idx = clickArr.indexOf(value);
    if (idx > -1) {
        clickArr.splice(idx, 1);
    }
}

function spliceMethodSecond(value) {
    const idx = filterOptionArray.indexOf(value);
    if (idx > -1) {
        filterOptionArray.splice(idx, 1);
    }
}


function color1BtnClick() {
    if (color1.checked == true) {
        filterOptionArray.push('Окраски в любые цвета:')
        clickArr.push(color1)
        arrCounter = true;
    } else {
        spliceMethod(color1);
        spliceMethodSecond('Окраски в любые цвета:')
        arrCounter = false;
    }
    updateFilterParam()
}

function color2BtnClick() {
    if (color2.checked == true) {
        filterOptionArray.push('Cерый:')
        clickArr.push(color2)
        arrCounter = true;
    } else {
        spliceMethod(color2);
        spliceMethodSecond('Cерый:')
        arrCounter = false;
    }
    updateFilterParam()
}



function odel1BtnClick() {
    if (odel1.checked == true) {
        filterOptionArray.push('12:')
        clickArr.push(odel1)
        arrCounter = true;
    } else {
        spliceMethod(odel1);
        spliceMethodSecond('12:')
        arrCounter = false;
    }
    updateFilterParam()
}




function odel2BtnClick() {
    if (odel2.checked == true) {
        filterOptionArray.push('3:')
        clickArr.push(odel2)
        arrCounter = true;
    } else {
        spliceMethod(odel2);
        spliceMethodSecond('3:')
        arrCounter = false;
    }
    updateFilterParam()
}



function odel3BtnClick() {
    if (odel3.checked == true) {
        filterOptionArray.push('2:')
        clickArr.push(odel3)
        arrCounter = true;
    } else {
        spliceMethod(odel3);
        spliceMethodSecond('2:')
        arrCounter = false;
    }
    updateFilterParam()
}


function odel4BtnClick() {
    if (odel4.checked == true) {
        filterOptionArray.push('5:')
        clickArr.push(odel4)
        arrCounter = true;
    } else {
        spliceMethod(odel4);
        spliceMethodSecond('5:')
        arrCounter = false;
    }
    updateFilterParam()
}


function odel5BtnClick() {
    if (odel5.checked == true) {
        filterOptionArray.push('6:')
        clickArr.push(odel5)
        arrCounter = true;
    } else {
        spliceMethod(odel5);
        spliceMethodSecond('6:')
        arrCounter = false;
    }
    updateFilterParam()
}

function odel6BtnClick() {
    if (odel6.checked == true) {
        filterOptionArray.push('10:')
        clickArr.push(odel6)
        arrCounter = true;
    } else {
        spliceMethod(odel6);
        spliceMethodSecond('10:')
        arrCounter = false;
    }
    updateFilterParam()
}



function yachik1BtnClick() {
    if (yachik1.checked == true) {
        filterOptionArray.push('12:')
        clickArr.push(yachik1)
        arrCounter = true;
    } else {
        spliceMethod(yachik1);
        spliceMethodSecond('12:')
        arrCounter = false;
    }
    updateFilterParam()
}



function yachik2BtnClick() {
    if (yachik2.checked == true) {
        filterOptionArray.push('6:')
        clickArr.push(yachik2)
        arrCounter = true;
    } else {
        spliceMethod(yachik2);
        spliceMethodSecond('6:')
        arrCounter = false;
    }
    updateFilterParam()
}

function yachik3BtnClick() {
    if (yachik3.checked == true) {
        filterOptionArray.push('9:')
        clickArr.push(yachik3)
        arrCounter = true;
    } else {
        spliceMethod(yachik3);
        spliceMethodSecond('9:')
        arrCounter = false;
    }
    updateFilterParam()
}


function yachik4BtnClick() {
    if (yachik4.checked == true) {
        filterOptionArray.push('10:')
        clickArr.push(yachik4)
        arrCounter = true;
    } else {
        spliceMethod(yachik4);
        spliceMethodSecond('10:')
        arrCounter = false;
    }
    updateFilterParam()
}



function yachik5BtnClick() {
    if (yachik5.checked == true) {
        filterOptionArray.push('18:')
        clickArr.push(yachik5)
        arrCounter = true;
    } else {
        spliceMethod(yachik5);
        spliceMethodSecond('18:')
        arrCounter = false;
    }
    updateFilterParam()
}



function yachik6BtnClick() {
    if (yachik6.checked == true) {
        filterOptionArray.push('24:')
        clickArr.push(yachik6)
        arrCounter = true;
    } else {
        spliceMethod(yachik6);
        spliceMethodSecond('24:')
        arrCounter = false;
    }
    updateFilterParam()
}


function yachik7BtnClick() {
    if (yachik7.checked == true) {
        filterOptionArray.push('36:')
        clickArr.push(yachik7)
        arrCounter = true;
    } else {
        spliceMethod(yachik7);
        spliceMethodSecond('36:')
        arrCounter = false;
    }
    updateFilterParam()
}

function yachik8BtnClick() {
    if (yachik8.checked == true) {
        filterOptionArray.push('40:')
        clickArr.push(yachik8)
        arrCounter = true;
    } else {
        spliceMethod(yachik8);
        spliceMethodSecond('40:')
        arrCounter = false;
    }
    updateFilterParam()
}




function lock1BtnClick() {
    if (lock1.checked == true) {
        filterOptionArray.push('Механический замок:')
        clickArr.push(lock1)
        arrCounter = true;
    } else {
        spliceMethod(lock1);
        spliceMethodSecond('Электронный замок:')
        arrCounter = false;
    }
    updateFilterParam()
}




function lock2BtnClick() {
    if (lock2.checked == true) {
        filterOptionArray.push('Электронный замок:')
        clickArr.push(lock2)
        arrCounter = true;
    } else {
        spliceMethod(lock2);
        spliceMethodSecond('Электронный замок:')
        arrCounter = false;
    }
    updateFilterParam()
}


function oneSectionBtnClick() {
    if (oneSection.checked == true) {
        filterOptionArray.push('1-секционный')
        clickArr.push(oneSection)
        arrCounter = true;
    } else {
        spliceMethod(oneSection);
        spliceMethodSecond('1-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}

function secondSectionBtnClick() {
    if (secondSection.checked == true) {
        filterOptionArray.push('2-секционный')
        clickArr.push(secondSection)
        arrCounter = true;
    } else {
        spliceMethod(secondSection);
        spliceMethodSecond('2-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}

function thirdSectionBtnClick() {
    if (thirdSection.checked == true) {
        filterOptionArray.push('3-секционный')
        clickArr.push(thirdSection)
        arrCounter = true;
    } else {
        spliceMethod(thirdSection);
        spliceMethodSecond('3-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}


function fourthSectionBtnClick() {
    if (fourthSection.checked == true) {
        filterOptionArray.push('4-секционный')
        clickArr.push(fourthSection)
        arrCounter = true;
    } else {
        spliceMethod(fourthSection);
        spliceMethodSecond('4-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}



function fiveSectionBtnClick() {
    if (fiveSection.checked == true) {
        filterOptionArray.push('6-секционный')
        clickArr.push(fiveSection)
        arrCounter = true;
    } else {
        spliceMethod(fiveSection);
        spliceMethodSecond('6-секционный')
        arrCounter = false;
    }
    updateFilterParam()
}






color1.addEventListener('click', color1BtnClick)
color2.addEventListener('click', color2BtnClick)


odel1.addEventListener('click', odel1BtnClick)
odel2.addEventListener('click', odel2BtnClick)
odel3.addEventListener('click', odel3BtnClick)
odel4.addEventListener('click', odel4BtnClick)
odel5.addEventListener('click', odel5BtnClick)
odel6.addEventListener('click', odel6BtnClick)

yachik1.addEventListener('click', yachik1BtnClick)
yachik2.addEventListener('click', yachik2BtnClick)
yachik3.addEventListener('click', yachik3BtnClick)
yachik4.addEventListener('click', yachik4BtnClick)
yachik5.addEventListener('click', yachik5BtnClick)
yachik6.addEventListener('click', yachik6BtnClick)
yachik7.addEventListener('click', yachik7BtnClick)
yachik8.addEventListener('click', yachik8BtnClick)


lock1.addEventListener('click', lock1BtnClick)
lock2.addEventListener('click', lock2BtnClick)


oneSection.addEventListener('click', oneSectionBtnClick)
secondSection.addEventListener('click', secondSectionBtnClick)
thirdSection.addEventListener('click', thirdSectionBtnClick)
fourthSection.addEventListener('click', fourthSectionBtnClick)
fiveSection.addEventListener('click', fiveSectionBtnClick)

// let checkBoxArr = []
//     // settings関数で初期設定 全体に適応させたい場合
// iziToast.settings({
//     timeout: 3000, // default timeout
//     resetOnHover: true,
//     // icon: '', // icon class
//     transitionIn: 'flipInX',
//     transitionOut: 'flipOutX',
//     position: 'topRight', // bottomRight, bottomLeft, topRight, topLeft, topCenter, bottomCenter, center
//     onOpen: function() {
//         // console.log('callback abriu!');
//     },
//     onClose: function() {
//         // console.log("callback fechou!");
//     }
// });


// error
// function errorMsg() {
//     iziToast.warning({ title: '', message: 'По таким параметрам продуктов не найдено' });
// }


const filter = document.getElementById("filter");
let arrCounter = true;

function addFilterOption(arr) {
    let index = 0;
    filter.innerHTML = "";
    arr.map(a => {
        let filterOption = document.createElement('div');
        filterOption.setAttribute("data-id", index)
        filterOption.id = "filterOption"
        filterOption.classList.add('filter-option')
        if (arrCounter == true) {
            filterOption.classList.add('filter-animation')
        }
        if (index > 0) {
            document.querySelector(`[data-id="${index - 1}"]`).classList.remove('filter-animation');
        }
        filterOption.innerHTML = `
    <span class="filter-option-value" data-id="${index}">${a} 
        <svg xmlns="https://www.w3.org/2000/svg" style="
        pointer-events: none;
        margin-left: 8.5px;" data-id="${index} width="10px" height="10px" viewBox="0 0 7 7" id="filterOptionSvg" fill="none">
            <path data-id="${index} id="filterOptionPath" fill-rule="evenodd" clip-rule="evenodd" d="M4.00199 4.7091L6.64844 7.35554L7.35554 6.64844L4.7091 4.00199L7.35554 1.35554L6.64844 0.648438L4.00199 3.29488L1.35554 0.648438L0.648438 1.35554L3.29488 4.00199L0.648438 6.64844L1.35554 7.35554L4.00199 4.7091Z" fill="#C4C4C4"></path>
        </svg>
    </span>
    `;
        filter.appendChild(filterOption);
        index++;
    })
}

let filterOption = document.querySelector(".filter-option");

document.addEventListener(
    "click",
    function(e) {
        e = e || window.event;
        let target = e.srcElement;
        if (
            target.id === "filterOption" ||
            target.parentNode.id === "filterOption"
        ) {
            arrCounter = false;
            let selectedId = parseInt(target.getAttribute('data-id'), 10);
            removeFilterElement(selectedId)
        }
    },
    false
);


function removeFilterElement(value) {
    filterOptionArray.splice(value, 1);
    clickArr[value].checked = false;
    clickArr.splice(value, 1)
    updateFilterParam();
}

function countParam(array) {


    let color1 = 0;
    let color2 = 0;

    let odel1 = 0;
    let odel2 = 0;
    let odel3 = 0;
    let odel4 = 0;
    let odel5 = 0;
    let odel6 = 0;


    let yachik1 = 0;
    let yachik2 = 0;
    let yachik3 = 0;
    let yachik4 = 0;
    let yachik5 = 0;
    let yachik6 = 0;
    let yachik7 = 0;
    let yachik8 = 0;

    let lock1 = 0;
    let lock2 = 0;


    let sections1 = 0;
    let sections2 = 0;
    let sections3 = 0;
    let sections4 = 0;
    let sections5 = 0;





    for (let index = 0; index < array.length; index++) {


        if (array[index].color == 'color1') {
            color1++;
        } else if (array[index].color == 'color2') {
            color2++;
        }


        if (array[index].odel == 'odel1') {
            odel1++;
        } else if (array[index].odel == 'odel2') {
            odel2++;
        } else if (array[index].odel == 'odel3') {
            odel3++;
        } else if (array[index].odel == 'odel4') {
            odel4++;
        } else if (array[index].odel == 'odel5') {
            odel5++;
        } else if (array[index].odel == 'odel6') {
            odel6++;
        }

        if (array[index].yachik == 'yachik1') {
            yachik1++;
        } else if (array[index].yachik == 'yachik2') {
            yachik2++;
        } else if (array[index].yachik == 'yachik3') {
            yachik3++;
        } else if (array[index].yachik == 'yachik4') {
            yachik4++;
        } else if (array[index].yachik == 'yachik5') {
            yachik5++;
        } else if (array[index].yachik == 'yachik6') {
            yachik6++;
        } else if (array[index].yachik == 'yachik7') {
            yachik7++;
        } else if (array[index].yachik == 'yachik8') {
            yachik8++;
        }

        if (array[index].lock == 'lock1') {
            lock1++;
        } else if (array[index].lock == 'lock2') {
            lock2++;
        }

        if (array[index].sections == '1') {
            sections1++;
        } else if (array[index].sections == '2') {
            sections2++;
        } else if (array[index].sections == '3') {
            sections3++;
        } else if (array[index].sections == '4') {
            sections4++;
        } else if (array[index].sections == '6') {
            sections5++;
        }
    }

    return [sections1, sections2, sections3, sections4, sections5, color1, color2, lock1,lock2, yachik1, yachik2, yachik3, yachik4, yachik5, yachik6, yachik7, yachik8,odel1, odel2, odel3, odel4, odel5, odel6]

}

function showParamCounters(array) {
    for (let index = 0; index < array.length; index++) {
        document.getElementById(`${index+1}param`).innerHTML = array[index]
    }
}

// var filename = window.location.href.split('/').pop().split('#')[0].split('?')[0];
// console.log(filename);